/* ------------------------------------------------------------------------------------------------------------------------------
MAIN CONTAINER / HEADER
--------------------------------------------------------------------------------------------------------------------------------*/
.main__container {
	flex-grow: 1;
	overflow: hidden;
	background-position: 0 0;
	background-repeat: no-repeat;

	/* стабильность layout */
	box-sizing: border-box;
	position: relative;
	z-index: 1;
	min-width: 0;

	padding-block-start: 40px;

	border-top-left-radius: 34px;
	border-top-right-radius: 34px;

	@include sm {
		padding-block-start: 50px;
		border-top-left-radius: 54px;
		border-top-right-radius: 54px;
	}

	@include xl {
		border-top-left-radius: 74px;
		border-top-right-radius: 74px;
	}

	// ------------------------------
	// MOBILE BG
	// ------------------------------
	&.mobile {
		background: url("../images/mobile-bg.webp") no-repeat 0 0;
		background-size: 100% 100%;
		padding-block-end: 50px;

		/* iOS bg repaint fix */
		background-attachment: scroll;
	}

	// ------------------------------
	// DESKTOP BG
	// ------------------------------
	&.desktop {
		@include sm() {
			background: url("../images/desktop-bg.webp") no-repeat 0 0;
			background-size: 100% 100%;
			padding-block-end: 165px;
			background-attachment: scroll;
		}
	}
}

/* ------------------------------------------------------------------------------------------------------------------------------
MAIN SECTION
--------------------------------------------------------------------------------------------------------------------------------*/
.main__section {
	display: flex;
	flex-direction: column;
	gap: 2px;

	/* safari flex fix */
	min-width: 0;

	@include sm {
		gap: 20px;
	}

	@include xl {
		gap: 35px;
	}
}

/* ------------------------------------------------------------------------------------------------------------------------------
CARD STYLES
--------------------------------------------------------------------------------------------------------------------------------*/
.main__card {
	display: flex;
	flex-direction: column;
	align-items: center;
	color: var(--text);

	/* чтобы blur/transform не лагал */
	position: relative;
	z-index: 1;

	&image {
		width: 160px;
		height: 160px;

		/* чтобы img не схлопывался */
		flex-shrink: 0;

		@include sm() {
			width: 220px;
			height: 220px;
		}
		@include xl {
			width: 300px;
			height: 300px;
		}

		img {
			display: block;
			width: 100%;
			height: auto;
			object-fit: cover;
			overflow: hidden;

			/* Safari image render fix */
			-webkit-user-drag: none;
			user-select: none;
		}
	}

	&form {
		font-family: var(--font-family);
		font-weight: 600;
		text-align: center;
		color: #c2f9ff;
		width: 100%;

		font-size: 14px;
		margin-top: 10px;

		/* текст стабильнее */
		-webkit-font-smoothing: antialiased;
		-moz-osx-font-smoothing: grayscale;

		@include sm {
			font-size: 22px;
			margin-top: 15px;
		}
		@include xl {
			font-size: 23px;
			margin-top: 20px;
		}

		h2 {
			margin-bottom: 5px;
		}

		form {
			margin-top: 25px;

			@include sm() {
				margin-top: 40px;
			}
			@include xl {
				margin-top: 60px;
			}
		}
	}
}

/* ------------------------------------------------------------------------------------------------------------------------------
MAIN BLOCK (Text + Gradient Masks)
--------------------------------------------------------------------------------------------------------------------------------*/
.main__block {
	position: relative;
	overflow: visible;
	text-align: center;

	font-family: var(--font-family);
	font-weight: 600;
	font-size: 10.5px;
	text-align: center;
	color: #c2f9ff;

	/* фикс блюра и градиентов */
	transform: translateZ(0);
	will-change: transform;

	-webkit-font-smoothing: antialiased;
	-moz-osx-font-smoothing: grayscale;

	@include sm() {
		font-size: 24px;
	}

	@include xl {
		font-size: 24px;
	}

	h2 {
		font-family: var(--font-family);
		font-weight: 900;
		text-align: center;
		color: #fff;
		letter-spacing: -0.02em;
		margin-bottom: 5px;

		/* safari margin fix */
		margin-top: 0;

		-webkit-font-smoothing: antialiased;
		-moz-osx-font-smoothing: grayscale;

		&.mob-22 {
			font-size: 22px;
			@include sm() { font-size: 32px; }
			@include xl { font-size: 48px; }
		}

		&.mob-24 {
			font-size: 24px;
			@include sm() { font-size: 36px; }
			@include xl { font-size: 48px; }
		}

		&.mob-25 {
			font-size: 25px;
			@include sm() { font-size: 38px; }
			@include xl { font-size: 48px; }
		}
	}

	/* верхняя маска */
	&::before {
		content: "";
		position: absolute;
		top: 25%;
		left: 50%;
		width: 80%;
		height: 100px;
		transform: translateX(-50%) translateZ(0);
		border-radius: 50%;
		background: linear-gradient(211deg, #00d0ff 0%, #0015ff 100%);
		filter: blur(40px);
		z-index: 0;
		pointer-events: none;

		@include md() {
			width: 70%;
			height: 110px;
			filter: blur(60px);
		}

		@include lg() {
			height: 120px;
			filter: blur(80px);
		}
	}

	/* нижняя маска */
	&::after {
		content: "";
		position: absolute;
		top: 40%;
		left: 50%;
		width: 180%;
		height: 30px;
		transform: translateX(-50%) rotate(-5deg) translateZ(0);
		border-radius: 50%;
		background: conic-gradient(from 90deg, #00d0ff 0deg, #0015ff 360deg);
		filter: blur(40px);
		opacity: 0.9;
		z-index: 0;
		pointer-events: none;

		@include md() {
			height: 115px;
			filter: blur(70px);
		}

		@include lg() {
			height: 130px;
			filter: blur(80px);
		}
	}

	.main__card {
		position: relative;
		z-index: 1;
	}
}

/* ------------------------------------------------------------------------------------------------------------------------------
CARD TILE
--------------------------------------------------------------------------------------------------------------------------------*/
.main__cardtile {
	padding-bottom: 20px;

	backdrop-filter: blur(11.5px);
	-webkit-backdrop-filter: blur(11.5px);

	background: rgba(255, 255, 255, 0.11);
	background-clip: padding-box;

	border: #92a8ff 1px solid;
	width: 100%;

	border-radius: 16px;
	padding-inline: 2px;
	padding-block-start: 7px;
	padding-block-end: 11px;

	/* Safari blur fix */
	transform: translateZ(0);
	will-change: backdrop-filter;

	@include xl {
		border-radius: 27px;
		padding-block: 20px;
		padding-inline: 35px;
	}

	&-row {
		display: flex;
		align-items: center;
		padding-inline: 10px;

		gap: 10px;
		border-radius: 9px;
		padding-block: 7px;

		/* flex баги safari */
		min-width: 0;

		@include sm {
			gap: 20px;
			border-radius: 15px;
			padding-block: 15px;
		}
		@include xl {
			gap: 40px;
			border-radius: 27px;
			padding-block: 20px;
		}
	}
}

/* ------------------------------------------------------------------------------------------------------------------------------
EXTRA
--------------------------------------------------------------------------------------------------------------------------------*/
.px-150-dynamic {
	@include xl {
		padding-inline: 130px;
	}
}

.-t-65-dynamic {
	transform: translateY(-33px) translateZ(0);

	@include sm {
		transform: translateY(-44px) translateZ(0);
	}

	@include xl {
		transform: translateY(-65px) translateZ(0);
	}
}
